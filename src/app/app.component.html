<div class="app-container">
  <header class="header">
    <h1>🌾 {{ title }}</h1>
    <nav>
      <a href="/marketplace">Marketplace</a>
      <a href="/auth">Login</a>
    </nav>
  </header>

  <main class="main-content">
    <!-- Backend Status Indicator -->
    <div class="status-panel">
      <h2>🔗 Estado del Sistema</h2>

      <div class="status-item" [class.connected]="backendConnected" [class.disconnected]="!backendConnected">
        <strong>Backend:</strong> {{ backendStatus }}
      </div>

      <div class="status-item" *ngIf="backendEnvironment">
        <strong>Environment:</strong>
        <span [class]="backendEnvironment">{{ backendEnvironment }}</span>
      </div>

      <div class="status-item" *ngIf="environmentInfo">
        <strong>Backend Info:</strong> {{ environmentInfo.message || 'N/A' }}
      </div>

      <div class="test-buttons">
        <button (click)="testBackendConnection()" class="test-button">
          🔄 Probar Health
        </button>
        <button (click)="testBackendEnvironment()" class="test-button">
          🌍 Probar Environment
        </button>
      </div>
    </div>

    <router-outlet></router-outlet>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Agro Mas - Marketplace Agropecuario</p>
    <p>Frontend Angular + Backend Go + Firebase Hosting + Google Cloud Run</p>
  </footer>
</div>